# Amazon CloudWatch
AWS 리소스 및 애플리케이션을 모니터링할 수 있도록 지원하는 서비스입니다. 지표 수집, 로그 분석, 경보 설정 등을 통해 시스템 상태를 실시간으로 파악하고 자동화된 조치를 취할 수 있습니다.


## 1. 지표 (Metrics)
- **지표**는 CloudWatch에 게시되는 시간 순서 데이터 요소입니다.
- 예시: EC2 인스턴스의 CPU 사용률, 디스크 읽기 속도 등

### 지표 수집 주기
- **기본 모니터링**: 5분 간격 (자동 활성화)
- **세부 모니터링**: 1분 간격 (선택사항)

### 제공 지표 예시
- CPU, Network, Disk, Status Check 등  
- ⚠️ **Memory 지표는 기본 제공되지 않음**

### 사용자 정의 지표
- AWS CLI 또는 API를 통해 직접 게시 가능

### 지표 데이터 보존 기간
| 집계 주기           | 보존 기간 |
|--------------------|-----------|
| 1분 미만           | 3시간     |
| 1분 ~ 5분 미만     | 15일      |
| 5분 ~ 1시간 미만   | 63일      |
| 1시간 이상         | 455일     |


## 2. CloudWatch Alarms (경보)
- 정의한 **지표 값이 임계값을 초과하거나 미달**할 경우 자동 작업 수행
- 예: EC2 인스턴스를 자동으로 종료, 재부팅, 복구 등


## 3. CloudWatch Agent
- EC2 또는 온프레미스 서버에 설치하여 더 많은 시스템 지표 수집 가능
- **Memory 사용량** 등의 지표를 추가로 수집하려면 Agent 설치 필요
- CloudWatch Logs 기능도 함께 활성화 가능


## 4. CloudWatch Logs
- 애플리케이션, 시스템, AWS 서비스의 **로그 수집 및 저장**
- 로그 소스 예시: EC2 (Agent 사용), CloudTrail, Route 53, VPC Flow Logs 등
- **CloudWatch Log Insights**로 로그 검색 및 분석 가능
- Agent는 일반적으로 약 **5초 주기로 로그 전송**


## 5. CloudWatch Events (→ EventBridge)
CloudWatch Events는 현재 **Amazon EventBridge**로 통합되었으며, 이벤트 기반 자동화 시스템입니다.

### 개요
- AWS 서비스에서 발생하는 **이벤트(event)** 를 기준으로,
- **사용자 정의 규칙(rule)** 에 일치할 경우,
- 지정한 **대상(target)** 에 자동으로 작업을 실행시킴

### 구성 요소
- **이벤트 소스 (Event Source)**  
  - AWS 서비스 내 이벤트 발생 지점  
  - 예: S3 객체 업로드, EC2 인스턴스 상태 변경, RDS 스냅샷 생성 등
- **이벤트 대상 (Target)**  
  - 이벤트 발생 시 수행할 작업  
  - 예: Lambda, SNS, SQS, Step Functions, Kinesis 등

### 작동 방식
1. 이벤트 소스에서 이벤트 발생
2. 이벤트가 사용자 정의 **규칙**과 일치할 경우
3. 설정된 **대상**에 이벤트가 전달되고 동작 수행

### 사용 예시
- S3 버킷에 파일 업로드 → Lambda 실행
- EC2 인스턴스 장애 감지 → SNS 알림 전송
- 매일 자정 → SQS 큐에 메시지 전송 (스케줄링 자동화)

